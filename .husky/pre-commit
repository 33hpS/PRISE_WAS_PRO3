#!/bin/sh
echo "üîç Pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∏ WASSER..."

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫—Ä–∏—Ç–∏—á–Ω–æ)
npm run format:check || { echo "‚ùå –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"; exit 1; }

# ESLint (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ 100)
echo "üîß ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏..."
npx eslint src --ext ts,tsx --max-warnings 100 || { 
  echo "‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ ESLint –æ—à–∏–±–∫–∏"; 
  exit 1; 
}

# TypeScript (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
npm run type-check || echo "‚ö†Ô∏è TypeScript –æ—à–∏–±–∫–∏ - —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è"

# Lint-staged
npx lint-staged || echo "‚ö†Ô∏è Lint-staged –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è"

echo "‚úÖ Pre-commit –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!"
