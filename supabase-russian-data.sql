-- Обновление данных с поддержкой русского языка
-- Выполните этот скрипт в Supabase SQL Editor

-- Удаляем старые данные
DELETE FROM products;
DELETE FROM collections;
DELETE FROM product_types;
DELETE FROM materials;

-- Добавляем коллекции на русском языке
INSERT INTO collections (name, description, markup_multiplier) VALUES
('Классик', 'Классическая коллекция мебели для ванной', 1.2),
('Модерн', 'Современная коллекция в стиле модерн', 1.3),
('Грация', 'Изящная коллекция премиум класса', 1.4),
('Элит', 'Элитная коллекция высшего класса', 1.8),
('Стандарт', 'Базовая коллекция по доступным ценам', 1.0);

-- Добавляем типы продукции на русском
INSERT INTO product_types (name, category, base_markup) VALUES
-- Тумбы
('Тумба', 'Тумбы', 150),
('Тумба краш', 'Тумбы', 200),
('Тумба с ящиками', 'Тумбы', 180),
('Тумба с ящиками краш', 'Тумбы', 230),
-- Пеналы
('Пенал', 'Пеналы', 160),
('Пенал краш', 'Пеналы', 210),
('Пенал высокий', 'Пеналы', 190),
-- Зеркала
('Зеркало', 'Зеркала', 120),
('Зеркало краш', 'Зеркала', 170),
('Зеркало LED', 'Зеркала', 250),
('Простое зеркало', 'Зеркала', 100),
-- Дополнительные типы
('Полка', 'Полки', 80),
('Шкаф навесной', 'Шкафы', 200),
('Столешница', 'Столешницы', 140);

-- Добавляем материалы на русском
INSERT INTO materials (name, unit, price, category, article) VALUES
-- Плитные материалы
('ЛДСП 16мм Белый', 'м²', 850.00, 'Плитные материалы', 'raw48'),
('ЛДСП 16мм Дуб', 'м²', 950.00, 'Плитные материалы', 'raw49'),
('МДФ 16мм', 'м²', 1200.00, 'Плитные материалы', 'raw163'),
('МДФ облегченный 16мм', 'м²', 1000.00, 'Плитные материалы', 'raw164'),
-- Кромочные материалы
('Кромка Белая 1/19', 'м', 25.00, 'Кромочные материалы', 'raw102'),
('Кромка Дуб 1/19', 'м', 35.00, 'Кромочные материалы', 'raw103'),
('Кромка ПВХ 2мм Белая', 'м', 65.00, 'Кромочные материалы', 'raw104'),
-- Фурнитура
('Петля накладная прямая (без доводчика)', 'шт', 120.00, 'Фурнитура', 'raw105'),
('Петля накладная прямая (с доводчиком)', 'шт', 180.00, 'Фурнитура', 'raw106'),
('Направляющие полного выдвижения 450мм', 'пара', 320.00, 'Фурнитура', 'raw107'),
('Ручка мебельная хром', 'шт', 150.00, 'Фурнитура', 'raw108'),
('Подвес Р-образный', 'шт', 25.00, 'Фурнитура', 'raw32'),
-- Крепёж
('Евровинт 7х50 мм', 'шт', 8.00, 'Крепёж', 'raw168'),
('Саморез 4*14 мм', 'шт', 2.50, 'Крепёж', 'raw131'),
('Шкант 30х8 (дерево)', 'шт', 3.00, 'Крепёж', 'raw104'),
('Заглушки на конфирматы', 'шт', 1.50, 'Крепёж', 'raw134'),
-- Зеркала и стекло
('Зеркало 4 мм', 'м²', 950.00, 'Зеркала и стекло', 'raw80'),
('Зеркало с фацетом', 'м²', 1200.00, 'Зеркала и стекло', 'raw81'),
-- Клеи и составы
('Клей для кромки', 'г', 0.80, 'Клеи и составы', 'raw110'),
('Клей для пленки ПВХ', 'г', 1.20, 'Клеи и составы', 'raw108'),
('Клей ПВА', 'г', 0.60, 'Клеи и составы', 'raw154'),
('Супер клей GA065B AKFIX 705', 'г', 3.50, 'Клеи и составы', 'raw130'),
('Акфикс Миррор (310 гр)', 'г', 2.80, 'Клеи и составы', 'raw53'),
-- Пленки и покрытия
('Пленка ПВХ Белый глянец (ZB 1000)', 'м', 180.00, 'Пленки и покрытия', 'raw11'),
('3D Наклейки на тумбы и на зеркала', 'шт', 85.00, 'Пленки и покрытия', 'raw117'),
-- Прочие материалы
('Зет-Картон', 'м²', 25.00, 'Прочие материалы', 'raw94');

-- Добавляем примеры товаров на русском языке
INSERT INTO products (name, description, category, type, collection, markup, total_cost, base_price) VALUES
-- Зеркала
('Зеркало Классик 80', 'Зеркало с LED подсветкой, размер 80см', 'Зеркала', 'Зеркало LED', 'Классик', 250.00, 2500.00, 6250.00),
('Зеркало Грация 60', 'Элегантное зеркало с подсветкой', 'Зеркала', 'Зеркало LED', 'Грация', 350.00, 2800.00, 9800.00),
('Зеркало Модерн 100', 'Большое зеркало в современном стиле', 'Зеркала', 'Зеркало LED', 'Модерн', 400.00, 3500.00, 14000.00),
-- Тумбы
('Тумба Классик 60', 'Подвесная тумба под раковину 60см', 'Тумбы', 'Тумба', 'Классик', 180.00, 4200.00, 7560.00),
('Тумба Модерн 80', 'Напольная тумба в современном стиле', 'Тумбы', 'Тумба с ящиками', 'Модерн', 230.00, 5800.00, 13340.00),
('Тумба Грация 70', 'Элегантная тумба с крашенными фасадами', 'Тумбы', 'Тумба краш', 'Грация', 280.00, 6200.00, 17360.00),
-- Пеналы
('Пенал Классик 35', 'Высокий пенал для ванной комнаты', 'Пеналы', 'Пенал', 'Классик', 160.00, 3800.00, 6080.00),
('Пенал Грация 40', 'Навесной пенал с крашенными фасадами', 'Пеналы', 'Пенал краш', 'Грация', 210.00, 4500.00, 9450.00),
('Пенал Модерн 35', 'Современный пенал с дополнительными полками', 'Пеналы', 'Пенал высокий', 'Модерн', 190.00, 4100.00, 7790.00),
-- Полки
('Полка Классик 60', 'Настенная полка для ванной', 'Полки', 'Полка', 'Классик', 80.00, 1200.00, 960.00),
('Полка Модерн 80', 'Современная полка с подсветкой', 'Полки', 'Полка', 'Модерн', 120.00, 1800.00, 2160.00);

-- Обновляем существующие прайс-листы
UPDATE price_lists SET 
    name = 'Профессиональный прайс-лист',
    style = 'Профессиональный'
WHERE style = 'modern';

-- Показываем результат
SELECT 
    'Коллекции' as table_name, 
    COUNT(*) as records_count 
FROM collections
UNION ALL
SELECT 
    'Типы продукции' as table_name, 
    COUNT(*) as records_count 
FROM product_types
UNION ALL
SELECT 
    'Материалы' as table_name, 
    COUNT(*) as records_count 
FROM materials
UNION ALL
SELECT 
    'Товары' as table_name, 
    COUNT(*) as records_count 
FROM products;